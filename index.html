<!DOCTYPE html>
<html>
<head>
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.css' rel='stylesheet' />
    <title>mapbox gl js + esri vector tile</title>
</head>

<body>
    <div id='map' style='width: 1000px; height: 900px;' />

    <script>

    var simple = {
	"version": 8,
	"sprite": "http://tiles.arcgis.com/tiles/PwLrOgCfU0cYShcG/arcgis/rest/services/BRF_Ag_Lands_assessment_OvSc1/VectorTileServer/resources/sprites",
	"glyphs": "http://tiles.arcgis.com/tiles/PwLrOgCfU0cYShcG/arcgis/rest/services/BRF_Ag_Lands_assessment_OvSc1/VectorTileServer/resources/fonts/{fontstack}/{range}.pbf",
	"sources": {
		"esri": {
			"type": "vector",
			"url": "https://tiles.arcgis.com/tiles/PwLrOgCfU0cYShcG/arcgis/rest/services/BRF_Ag_Lands_assessment_OvSc1/VectorTileServer"
		}
	},
	"layers": [{
		"id": "BRF_ParcelAnalysis_proj2/â‰¤13.900000",
		"type": "fill",
		"source": "esri",
		"source-layer": "BRF_ParcelAnalysis_proj2",
		"filter": ["==", "_symbol", 2],
		"layout": {},
		"paint": {
			"fill-color": "#F5F500",
			"fill-outline-color": "#343434"
		}
	}, {
		"id": "BRF_ParcelAnalysis_proj2/â‰¤45.150000",
		"type": "fill",
		"source": "esri",
		"source-layer": "BRF_ParcelAnalysis_proj2",
		"filter": ["==", "_symbol", 3],
		"layout": {},
		"paint": {
			"fill-color": "#F5B800",
			"fill-outline-color": "#343434"
		}
	}, {
		"id": "BRF_ParcelAnalysis_proj2/â‰¤114.700000",
		"type": "fill",
		"source": "esri",
		"source-layer": "BRF_ParcelAnalysis_proj2",
		"filter": ["==", "_symbol", 4],
		"layout": {},
		"paint": {
			"fill-color": "#F57A00",
			"fill-outline-color": "#343434"
		}
	}, {
		"id": "BRF_ParcelAnalysis_proj2/â‰¤343.840000",
		"type": "fill",
		"source": "esri",
		"source-layer": "BRF_ParcelAnalysis_proj2",
		"filter": ["==", "_symbol", 5],
		"layout": {},
		"paint": {
			"fill-color": "#F53D00",
			"fill-outline-color": "#343434"
		}
	}, {
		"id": "BRF_ParcelAnalysis_proj2/â‰¤1250.900000",
		"type": "fill",
		"source": "esri",
		"source-layer": "BRF_ParcelAnalysis_proj2",
		"filter": ["==", "_symbol", 6],
		"layout": {},
		"paint": {
			"fill-color": "#F50000",
			"fill-outline-color": "#343434"
		}
	}],
	"_ssl": false
}

var map = new mapboxgl.Map({
    container: 'map',
    style: simple,
    zoom: 5,
    center: [-79.75, 35.39]
});

// Add zoom and rotation controls to the map.
map.addControl(new mapboxgl.NavigationControl());

// When a click event occurs on a feature in the states layer, open a popup at the
// location of the click, with description HTML from its properties.
map.on('click', 'BRF_ParcelAnalysis_proj2', function (e) {
  console.log(e.features[0].properties)
    new mapboxgl.Popup()
        .setLngLat(e.lngLat)
        .setHTML(e.features[0].properties)
        .addTo(map);
});

// // Change the cursor to a pointer when the mouse is over the states layer.
// map.on('mouseenter', 'Road', function () {
//     map.getCanvas().style.cursor = 'pointer';
// });

    </script>
</body>
</html>
