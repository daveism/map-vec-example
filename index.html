<!DOCTYPE html>
<html>
<head>
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.css' rel='stylesheet' />
    <title>mapbox gl js + esri vector tile</title>
</head>

<body>
    <div id='map' style='width: 1000px; height: 900px;' />

    <script>

	var simple = {
"sprite":"https://www.arcgis.com/sharing/rest/content/items/850db44b9eb845d3bd42b19e8aa7a024/resources/styles/../sprites/sprite",
"glyphs":"https://www.arcgis.com/sharing/rest/content/items/850db44b9eb845d3bd42b19e8aa7a024/resources/styles/../fonts/{fontstack}/{range}.pbf",
"sources":{"esri":{"url":"https://basemaps.arcgis.com/b2/arcgis/rest/services/World_Basemap/VectorTileServer","type":"vector"}},
"layers" : [

  {
      "id" : "Continent fill",
      "type" : "fill",
      "source" : "esri",
      "source-layer" : "Continent",
      "filter" : ["==", "_symbol", 0],
      "minzoom" : 0,
      "layout" : {},
      "paint" : {
        "fill-color" : "#F2EFCC"
      }
    }
    , {
    "id" : "Continent",
    "type" : "symbol",
    "source" : "esri",
    "source-layer" : "Continent",
    "maxzoom" : 2,
    "layout" : {
      "symbol-avoid-edges" : true,
      "icon-image" : "Continent",
      "icon-allow-overlap" : true,
      "icon-padding" : 1,
      "text-font" : ["Arial Regular"],
              "text-size" : {
        "stops" : [[0, 10], [1, 12]]
      },
      "text-anchor" : "center",
      "text-letter-spacing" : 0.050000,
      "text-max-width" : 8,
      "text-field" : "{_name_global}",
              "text-transform" : "uppercase",
      "text-padding" : 1
    },
    "paint" : {
      "text-color" : "#828282",
      "text-halo-color" : "#F5F2DC",
      "text-halo-width" : 2
    }
  }
],"version":8,
 "sources": {
    "esri": {
      "type": "vector",
      "tiles": ["https://basemaps.arcgis.com/b2/arcgis/rest/services/World_Basemap/VectorTileServer/tile/{z}/{x}/{y}.pbf"]
    }
  }
}

	;

var map = new mapboxgl.Map({
    container: 'map',
    style: simple,
    zoom: 0,
    center: [-14, 35]
});


// When a click event occurs on a feature in the states layer, open a popup at the
// location of the click, with description HTML from its properties.
map.on('click', 'Marine area/1', function (e) {
  console.log(e.features[0].properties)
    new mapboxgl.Popup()
        .setLngLat(e.lngLat)
        .setHTML(e.features[0].properties)
        .addTo(map);
});

    </script>
</body>
</html>
